if (self.CavalryLogger) { CavalryLogger.start_js(["erMdx"]); }

__d("XBrowseLoggerController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("#\/browse\/logger\/",{data:{type:"HackType",required:true}});}),null);
__d('BrowseLogger',['AsyncRequest','Banzai','mapObject','Run','XBrowseLoggerController'],(function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m='browse',n='browse_aggr',o=null,p={},q={},r=function(aa){if(aa==null)return 'undefined';var ba=aa.tagName.toLowerCase(),ca=aa.id,da=aa.className;if(ca)ba+='#'+ca;if(da)ba+='.'+da;return ba;};function s(){o=null;p={};q={};}function t(aa){return Object.assign(aa,{clientSessionID:o});}function u(aa){i.post(m,t(aa));}function v(aa){var ba=l.getURIBuilder().setHackType('data',t(aa)).getURI();new h().setURI(ba).send();}function w(){if(o===null)return;q.aggregated=p;i.post(n,t(q));s();}function x(aa){p[aa]=(p[aa]||0)+1;}function y(aa){Object.assign(q,aa);}k.onUnload(w);var z={newSession:function(){w();o=Math.random().toString();if(!q.start_time)q.start_time=Math.round(Date.now()/1000);},logResultClick:function(aa,ba,ca,da,ea){var fa=arguments.length<=5||arguments[5]===undefined?null:arguments[5],ga={action:'result_click',click_type:aa.ct||'result',section:aa.section||'unknown',id:aa.id||-1,path:aa.path||'unknown',rank:aa.rank||0,referrer:aa.referrer||'unknown',result_type:aa.result_type||'unknown',session_id:aa.session_id||0,query_time:aa.query_time||null,abtest_version:aa.abtest_version||'NONE',abtest_params:aa.abtest_params||null,typeahead_sid:aa.typeahead_sid||'',source_module_role:aa.source_module_role||'',result_title:aa.result_title||'unknown',result_href:aa.result_href||'unknown',result_semantic:aa.result_semantic||'unknown',type:aa.experience_type||'unknown',click_action:ca||null,sub_id:aa.sub_id||null,owner_id:aa.owner_id||null,browse_location:aa.browse_location||'unknown',query_data:aa.query_data||'unknown',is_headline:aa.is_headline||false,qid:ba.qid||0,mf_story_key:ba.mf_story_key||0,module:aa.module||'NONE',view:aa.view||null,clicked_href:ea||null,bt_key:fa};if(ba.tn)ga.tn=ba.tn;if(aa.cst)ga.click_subtype=aa.cst;x('result_click_'+ga.click_type);y({path:ga.path,referrer:ga.referrer,result_type:ga.result_type,session_id:ga.session_id,abtest_version:ga.abtest_version,abtest_params:ga.abtest_params,typeahead_sid:ga.typeahead_sid});if(fa){v(ga);}else u(ga);if(!aa.id&&aa.browse_location!=='browse_location:mf_trending'&&!fa)u({action:'logging_error',click_action:ca,click_type:ga.click_type,attributes:JSON.stringify(aa),element:j({srcElement:da.srcElement,target:da.target,toElement:da.toElement},r),event:{button:da.button,clientX:da.clientX,clientY:da.clientY,ctrlKey:da.ctrlKey,layerX:da.layerX,layerY:da.layerY,offsetX:da.offsetX,offsetY:da.offsetY,pageX:da.pageX,pageY:da.pageY,screenX:da.screenX,screenY:da.screenY,shiftKey:da.shiftKey,type:da.type,x:da.x,y:da.y}});},logControlsClick:function(aa,ba){var ca={action:'controls_click',click_type:ba,path:aa.path||'unknown',referrer:aa.referrer||'unknown',session_id:aa.session_id||0,query_time:aa.query_time,filter_name:aa.name||'unknown',typeahead_sid:aa.typeahead_sid||'',result_type:aa.result_type||'unknown',type:aa.experience_type||'unknown'};if(aa.cst)ca.click_subtype=aa.cst;x('controls_click_'+ba);y({path:ca.path,referrer:ca.referrer,session_id:ca.session_id,typeahead_sid:ca.typeahead_sid});u(ca);},logResultHover:function(aa,ba){var ca=arguments.length<=2||arguments[2]===undefined?null:arguments[2],da={action:'result_hover',id:aa.id||0,path:aa.path||'unknown',rank:aa.rank||null,result_type:aa.result_type||'unknown',session_id:aa.session_id||0,query_time:aa.query_time||null,time_elapsed:ba||null,typeahead_sid:aa.typeahead_sid||0,type:aa.experience_type||'unknown',module:aa.module||'NONE',view:aa.view||null,bt_key:ca};x('result_hover');y({path:da.path,session_id:da.session_id,typeahead_sid:da.typeahead_sid});if(ca){v(da);}else u(da);},logScroll:function(aa,ba,ca,da){var ea={action:'scroll',encoded_query:aa,fragments:ba,position:ca,session_id:da||0};u(ea);},logNUXStep:function(aa){var ba={action:'nux_step',step:aa};u(ba);},logDisambiguationImpression:function(aa,ba,ca,da,ea){var fa={action:'disambiguation_imp',ids:da,name:aa,path:ca,type:ba,typeahead_sid:ea};u(fa);},logDisambiguationClick:function(aa,ba,ca,da,ea,fa){var ga={action:'disambiguation_clk',id:ea,index:da,name:aa,path:ca,type:ba,typeahead_sid:fa};u(ga);},logDYMLinkClick:function(aa,ba,ca,da){var ea={action:'dym_click',path:aa.path||'unknown',referrer:aa.referrer||'unknown',session_id:aa.session_id||0,query_time:aa.query_time,abtest_version:aa.abtest_version||'NONE',abtest_params:aa.abtest_params,typeahead_sid:aa.typeahead_sid||'',type:aa.experience_type||'unknown',click_action:ca,sub_id:aa.sub_id,owner_id:aa.owner_id,browse_location:aa.browse_location||'unknown',query_data:aa.query_data||'unknown',module:aa.module||'NONE',view:aa.view,dym_confidence:aa.dym_confidence||'NONE',dym_query:aa.dym_query||'',dym_correction:aa.dym_correction||'',dym_clicked:aa.dym_clicked||''};u(ea);}};f.exports=z;}),null);
__d('BrowseClickLogger',['Event','BrowseLogger','BrowseClientEventLogger','collectDataAttributes','DOMQuery'],(function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();function m(o,p){var q=o.target,r=k(q,['bt','ft','gt'],['data-bt-key']);if(r.bt&&r.bt.path)r.bt.path+=document.location.search;r.gt.tn=r.ft.tn;r.gt.click_type=r.bt.ct||'result';r.gt.clicked_href=q.href;j.logClick(r);if(l.scry(q,'^.recourse-link').length>0){if(p==='left_click')i.logDYMLinkClick(r.bt,r.ft,p,o);}else i.logResultClick(r.bt,r.ft,p,o,q.href,r.normal['data-bt-key']);}var n={init:function(o){h.listen(o,'mousedown',function(p){var q=p.button===2||p.which===3?'right_click':'left_click';if(p.shiftKey)q+='_shift';if(p.altKey)q+='_alt';if(p.metaKey||p.ctrlKey)q+='_ctrl';m(p,q);}.bind(this));},logClick:m};f.exports=n;}),null);
__d('BrowseClientSizeLogger',['BanzaiLogger','DataAttributeUtils','getElementPosition'],(function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={log:function(l){var m=i.getDataAttribute(l,'data-xt'),n=JSON.parse(m.substring(m.indexOf('{'))),o=j(l);n.client_height=o.height;n.client_width=o.width;n.raw_id=+n.raw_id;h.log('SearchResultsClientSizeLoggerConfig',n);}};f.exports=k;}),null);
__d('BrowseEmptyResult',['$','DOMQuery','UIPagelet','csx'],(function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={init:function(m,n,o){var p=[],q=false;if(m===null)return;for(var r=0;r<m.length;r++){var s=h(m[r]);if(m[r]==='initial_browse_result'){var t=i.scry(s,"._58b7");if(t.length>0)q=true;}if(s!==null&&s.textContent)p.push(m[r]);}if(p.length===0||!q){m&&m.length===0;j.loadFromEndpoint('BrowsePageletNoContentError',n,o,{usePipe:false});}}};f.exports=l;}),null);
__d('BrowseMouseSpeedTracker',['Event','removeFromArray'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=50,k=null,l=null,m=[],n={x:0,y:0},o=0,p=[{x:0,y:0},{x:0,y:0}];function q(){p[o].x=n.x;p[o].y=n.y;o=(o+1)%2;}function r(){var x=p[0].x-p[1].x,y=p[0].y-p[1].y;return Math.sqrt(x*x+y*y)*(1000/j);}function s(){if(k)return;l=h.listen(document.body,'mousemove',function(event){n.x=event.pageX||event.screenX;n.y=event.pageY||event.screenY;});k=window.setInterval(function(){q();u(r());},j);}function t(){if(k){window.clearInterval(k);l.remove();k=null;}}function u(x){m.forEach(function(y){if(x<y.velocity){y.callback(x);v(y);}});}function v(x){i(m,x);m.length||t();}var w={addTrigger:function(x,y){var z={velocity:x,callback:y};s();m.push(z);return {remove:v.bind(null,z)};}};f.exports=w;}),null);
__d('BrowseRunOnLeave',['Run'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={register:function(j){h.onLeave(j);this.handlers=(this.handlers||[]).concat(j);},cleanup:function(){this.handlers.forEach(function(j){return j.call(null,{});});this.handlers=[];}};f.exports=i;}),null);
__d('BrowseMouse',['Event','BrowseMouseSpeedTracker','CSS','DOM','DataStore','Parent','BrowseRunOnLeave','Toggler','cx','removeFromArray'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=500,s="_3u0",t="_3u1",u=null,v=[];function w(ea){return m.byClass(ea,t);}function x(ea){return 'browse-'+(ea?'over':'out');}function y(ea){return j.addClass(ea,t);}function z(ea,fa,ga,ha){var ia=w(fa);if(!ha)v.push({element:fa,callback:ga});if(ia){var ja=x(ea),ka=l.get(ia,ja,[]);l.set(ia,ja,ka.concat(ga));return ia;}}function aa(ea,fa){if(ea){j.conditionClass(ea,s,fa);var ga=l.get(ea,x(fa));ga&&ga.forEach(function(ha){ha();});}}function ba(ea){var fa=ea.element;['browse-over','browse-out'].forEach(function(ga){var ha=l.get(fa,ga);if(ha){q(ha,ea.callback);ha.length||l.remove(fa,ga);}});}function ca(){var ea=null;if(u)return;u=h.listen(document.body,'mouseover',function(fa){var ga=w(fa.getTarget());if(!ga||ga==ea)return;var ha=null,ia=null,ja=false;ea=ga;var ka=i.addTrigger(r,function(){aa(ga,true);ja=true;}),la=function(){ka.remove();na.remove();ha&&ha.remove();ia&&ia.unsubscribe();},ma=function(){la();ja&&aa(ga,false);ea=null;},na=h.listen(ga,'mouseleave',function(){var oa=o.getActive();if(oa&&k.contains(ga,oa)){ia=o.subscribe('hide',ma);ha=h.listen(ga,'mouseover',la);}else ma();});});n.register(function(){while(v.length)ba(v.pop());});}var da={init:ca,makeTarget:y,onMouseOver:z.bind(null,true),onMouseOut:z.bind(null,false),removeListeners:ba};f.exports=da;}),null);
__d('BrowsePerfLogger',['Arbiter','Banzai','collectDataAttributes','DOM','isEmpty','PageEvents'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n='browse_perf',o='#browse:independent:modules:pagelet',p='#search_marker+empty:independent_module',q='pagelet_loader_browse:independent:modules:pagelet',r=false,s=false,t={init:function(u,v,w){if(!b.CavalryLogger||b.CavalryLogger.getInstance().lid!==w||!u)return;r=null;s=null;var x={is_quickling:v,pagelet_id:u};if(!v){Object.assign(x,{arbiter:h,event:m.BIGPIPE_ONLOAD});this.setupOnloadHook(x);return;}h.subscribe('BigPipe/init',function(event,y){if(!y.arbiter)return;Object.assign(x,{arbiter:y.arbiter,event:m.AJAXPIPE_ONLOAD});setTimeout(function(){this.setupOnloadHook(x);}.bind(this),0);}.bind(this));},setTimeout:function(){s=true;},setupOnloadHook:function(u){return u.arbiter.subscribeOnce(u.event,function(v){if(r)return;r=true;var w=b.CavalryLogger.getInstance(),x=w.events[u.pagelet_id]||[],y=this.getNavStart(u.is_quickling),z=document.getElementById('initial_browse_result'),aa=z===null?{}:j(z.children[0],['bt']).bt,ba=w.values.t_tti-window._cstart,ca=y?w.values.t_tti-y:0,da=!w.values.t_hooks||!w.values.t_onload||!w.values.t_tti||!y||!window._cstart,ea=null;if(z===null){ea='exception';}else if(s){ea='timeout';}else if(l(aa))ea='no_results';var fa=k.scry(document,o).length&&k.scry(document,p).length,ga=null;if(!fa&&k.scry(document,o).length&&w.events[q])ga=w.events[q].display;var ha=w.events.pagelet_loader_initial_browse_result?w.events.pagelet_loader_initial_browse_result.display:null,ia=ga?Math.min(ga,ha):ha,ja={abnormal:da?1:null,arrive:x.arrive||0,browse_sid:aa.session_id,css_done:x.css||0,display:x.display||0,experience_type:aa.experience_type,failure:ea,is_detailed:w.is_detailed_profiler?1:0,js_done:x.jsdone||0,js_start:x.jsstart||0,navigation_start:y,onload:w.values.t_onload||0,pagelet_id:u.pagelet_id,path:aa.path,quickling:u.is_quickling?1:0,raw_tti:w.values.t_tti,result_type:aa.result_type,tti:Math.floor(ba),tti_full:Math.floor(ca),typeahead_sid:aa.typeahead_sid,window_cstart:window._cstart,empty_independent_module:fa?1:0,independent_module_tti:Math.floor(ga),browse_result_tti:Math.floor(ha),top_module_tti:Math.floor(ia)},ka=window.performance||window.msPerformance;if(!u.is_quickling&&ka.timing){ka=ka.timing;Object.assign(ja,{wt_connect_end:ka.connectEnd,wt_connect_start:ka.connectStart,wt_domain_lookup_end:ka.domainLookupEnd,wt_domain_lookup_start:ka.domainLookupStart,wt_load_event_start:ka.loadEventStart,wt_navigation_start:ka.navigationStart,wt_request_start:ka.requestStart,wt_response_end:ka.responseEnd,wt_response_start:ka.responseStart});}i.post(n,ja,{delay:0,retry:true});}.bind(this));},getNavStart:function(u){if(u)return window.ExitTime;var v=window.performance||window.msPerformance;if(!v||!v.timing)return;return v.timing.navigationStart;}};f.exports=t;}),null);
__d('BrowseScrollingPager',['Arbiter','CSS','DOM','OnVisible','SubscriptionsHandler','UIPagelet'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=800,o=[],p,q=0;function r(s,t,u){'use strict';this.loadingNode=s;this.globalData=t;this.visibleBuffer=u?u:n;this.subscriptionsHandler=new l();p&&this.pageletComplete(p);p=null;}r.prototype.pageletComplete=function(s){'use strict';this.pageData=s;h.inform('BrowseScrollingPageletLoaded');setTimeout(this.$BrowseScrollingPager1.bind(this),1000);};r.prototype.destroy=function(){'use strict';if(this.pageletLoadHandler)this.pageletLoadHandler.cancel();this.loadingNode=null;this.subscriptionsHandler.release();};r.prototype.$BrowseScrollingPager1=function(){'use strict';if(!this.loadingNode){return;}else if(this.pageData){i.show(this.loadingNode);this.subscriptionsHandler.addSubscriptions(new k(this.loadingNode,this.$BrowseScrollingPager2.bind(this),false,this.visibleBuffer));}else i.hide(this.loadingNode);};r.prototype.$BrowseScrollingPager3=function(){'use strict';return 'fbBrowseScrollingPagerContainer'+q++;};r.prototype.$BrowseScrollingPager2=function(){'use strict';if(this.$BrowseScrollingPager4)return;i.show(this.loadingNode.firstChild);this.contentContainer=j.create('div',{id:this.$BrowseScrollingPager3()});j.insertBefore(this.loadingNode,this.contentContainer);this.pageletLoadHandler=m.loadFromEndpoint('BrowseScrollingSetPagelet',this.contentContainer.id,babelHelpers['extends']({},this.globalData,this.pageData),{constHeight:true,sid:this.globalData.typeahead_sid||0,displayCallback:this.$BrowseScrollingPager5.bind(this)});};r.prototype.$BrowseScrollingPager5=function(s){'use strict';try{s();}catch(t){this.$BrowseScrollingPager4=true;}finally{this.loadingNode&&i.hide(this.loadingNode.firstChild);}};r.init=function(s,t,u){var v=new r(s,t,u);o.push(v);};r.pageletComplete=function(s){var t=o[o.length-1];if(t){t.pageletComplete.call(t,s);}else p=s;};r.destroyAllPagers=function(){o.forEach(function(s){s.destroy();});o=[];};h.subscribe('BrowseScrollingPager/destroyIfNotLast',function(){if(o.length>1){var s=o.pop();s.destroy();}});f.exports=r;}),null);
__d('BrowseTopFiltersFullWidth',['Arbiter','CSS','NavigationMessage','SubscriptionsHandler','cx'],(function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n=/(facebook\.com\/(search|hashtag|topic)\/)/,o={init:function(){i.addClass(document.body,"_4dik");m=new k();m.addSubscriptions(h.subscribe(j.NAVIGATION_FIRST_RESPONSE,this.cleanup));h.inform('browse_top_filters_full_width_displayed');},cleanup:function(){m&&m.release();if(!window.location.href.match(n))i.removeClass(document.body,"_4dik");}};f.exports=o;}),null);
__d('BrowseViewportTracking',['DOM','$','Arbiter','BrowseClientEventLogger','StreamViewportTracking','csx'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){var n,o;if(c.__markCompiled)c.__markCompiled();var p,q;n=babelHelpers.inherits(r,l);o=n&&n.prototype;r.prototype.initSubscriptions=function(){'use strict';this.subscriptions.addSubscriptions(j.subscribe('BrowseScrollingPageletLoaded',function(){return this.updateOnPageletLoad();}.bind(this)));};r.prototype.updateOnPageletLoad=function(){'use strict';this.invalidateAllStoriesCache();this.updateTimeTrackingData(false,'pagelet_load');};r.prototype.getAllStories=function(){'use strict';var s=h.scry(this.getStream(),"._401d");return s;};r.prototype.getStream=function(){'use strict';if(!q)q=i('initial_browse_result');return q;};r.prototype.getStoryID=function(s){'use strict';var t=JSON.parse(s.getAttribute('data-gt'));if(t&&t.xt)return String(JSON.parse(t.xt.substring(3)).raw_id);return null;};r.prototype.getTimetrackingDataToLog=function(s){'use strict';var t=o.getTimetrackingDataToLog.call(this,s);if(!s.story)return t;t.log_type='vpvd';var u=JSON.parse(s.story.getAttribute('data-gt'));if(!u)return t;t.xt=u.xt;return t;};r.prototype.sendDataToLog=function(s,t,u,v){'use strict';if(!t.xt)return;if(t.log_type='vpvd'){t.event='vpvd';k.maybeLogVisiblityEvent(t);}};r.prototype.getDataFromConfig=function(s){'use strict';this.timeout=s.record_delay;this.isTimetrackingEnabled=s.is_timetracking_enabled;this.vpvdDebug=s.vpvd_debug;this.trackingHooks=s.tracking_hooks;};r.prototype.getTimeout=function(){'use strict';return this.timeout;};r.prototype.cleanup=function(){'use strict';p=null;o.cleanup.call(this);};function r(){'use strict';n.apply(this,arguments);}f.exports={getInstance:function(){return p;},init:function(s){if(p)return;p=new r();p.init(s);}};}),null);
__d('BrowseWindowTransitions',['Arbiter','Banzai','BrowseClientEventLogger','Event','NavigationMessage','Run','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o={init:function(p,q){this.subscriptions=new n();this.currentSessionID=p;this.currentVertical=q;this.logData('window_load');m.onLeave(function(){this.logData('window_transition_to_fb_page');this.cleanup();}.bind(this));if(!this.unLoadAttached){this.unLoadAttached=true;m.onUnload(function(){this.logData('window_unloaded');}.bind(this));}this.subscriptions.addSubscriptions(k.listen(window,'focus',function(){this.logData('window_focus');}.bind(this)),k.listen(window,'blur',function(){this.logData('window_blur');}.bind(this)),h.subscribe('pre_page_transition',function(event,r){this.logData('window_pre_page_transition');}.bind(this)),h.subscribe(l.NAVIGATION_BEGIN,function(event,r){this.logData('window_transition_to_LHC');this.cleanup();}.bind(this)),h.subscribe('BlueBar/homeClick',function(){this.logData('window_transition_to_home_click');this.cleanup();}.bind(this)));},logData:function(event){j.logData(event,this.currentSessionID,this.currentVertical);},cleanup:function(){this.subscriptions.release();}};f.exports=o;}),null);
__d('DesktopVisibilityTracking',['Arbiter','ErrorUtils','LitestandMessages','Run','VisibilityTracking','VisibilityTrackingConfig'],(function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n={init:function(){if(n.instance===undefined){n.instance=new l(m);n.instance.listeners.addSubscriptions(h.subscribe([j.STORIES_INSERTED],i.guard(function(){n.instance.refreshAndFireEvent();},'VisibilityTracking')));}k.onLoad(function(){n.instance.refreshAndFireEvent();});}};f.exports=n;}),null);
__d('LinkshimWarning',['AsyncRequest','Event'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={initWarningContinue:function(k,l,m){i.listen(k,'click',function(){var n={l:window.location.href,a:0,p:m,rl:l};new h().setURI('https://www.facebook.com/si/ajax/l/linkshim_warning_click/').setData(n).setOption('asynchronous_DEPRECATED',false).send();window.location=l;return false;});},initWarningReturn:function(k,l,m){i.listen(k,'click',function(){var n={l:window.location.href,a:1,p:m,rl:l};new h().setURI('https://www.facebook.com/si/ajax/l/linkshim_warning_click/').setData(n).setOption('asynchronous_DEPRECATED',false).send();window.location='https://www.facebook.com/';return false;});}};f.exports=j;}),null);
__d('XUINotice',['Event','invariant'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k,l){this._root=k;this._closeButton=l;}Object.assign(j.prototype,{getRoot:function(){return this._root;},isDismissable:function(){return !!this._closeButton;},setDismissHandler:function(k){!this.isDismissable()?i(0):void 0;this.removeDismissHandler();this._listener=h.listen(this._closeButton,'click',k);},removeDismissHandler:function(){this._listener&&this._listener.remove();this._listener=null;},destroy:function(){this.removeDismissHandler();this._root=null;this._closeButton=null;}});f.exports=j;}),null);